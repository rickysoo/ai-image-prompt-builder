<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Prompt Builder | Create Perfect Prompts for AI Art Generation</title>
    <meta name="description" content="Build professional AI image prompts with our interactive drag-and-drop tool. Craft perfect prompts for DALL-E, Midjourney, Stable Diffusion & more. Free AI prompt generator with GPT-4 enhancement.">
    <meta name="keywords" content="AI image prompt builder, AI art generator, DALL-E prompts, Midjourney prompts, Stable Diffusion prompts, AI prompt generator, image prompt tool">
    <meta name="author" content="AI Image Prompt Builder">
    <meta name="theme-color" content="#1e3c72">
    <link rel="manifest" href="manifest.json">
    <meta property="og:title" content="AI Image Prompt Builder | Create Perfect AI Art Prompts">
    <meta property="og:description" content="Interactive tool to build professional AI image prompts. Drag, drop, and craft perfect prompts for AI art generation with GPT-4 enhancement.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yoursite.com">
    <meta property="og:image" content="https://yoursite.com/og-image.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AI Image Prompt Builder">
    <meta name="twitter:description" content="Create perfect AI image prompts with our interactive tool. Free prompt generator for DALL-E, Midjourney & more.">
    <link rel="icon" type="image/svg+xml" href="icon-192.svg">
    <link rel="icon" type="image/svg+xml" sizes="512x512" href="icon-512.svg">
    <link rel="apple-touch-icon" href="icon-192.svg">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1MBD8RK69P"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-1MBD8RK69P', {
        cookie_flags: 'SameSite=None;Secure',
        send_page_view: true
      });
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #24243e 25%, #302b63 50%, #24243e 75%, #0f0c29 100%);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            color: #fff;
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            overflow-y: auto;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 15% 85%, rgba(16, 185, 129, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 85% 15%, rgba(139, 92, 246, 0.12) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(6, 182, 212, 0.08) 0%, transparent 30%),
                radial-gradient(circle at 30% 20%, rgba(245, 158, 11, 0.1) 0%, transparent 35%),
                radial-gradient(circle at 70% 80%, rgba(239, 68, 68, 0.08) 0%, transparent 35%);
            pointer-events: none;
            z-index: 1;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            pointer-events: none;
            z-index: 1;
        }

        .particle.circle {
            background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, rgba(120, 119, 198, 0.1) 100%);
            border-radius: 50%;
            animation: floatCircle 12s ease-in-out infinite;
        }

        .particle.square {
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 0%, rgba(120, 119, 198, 0.1) 100%);
            border-radius: 2px;
            animation: floatSquare 15s ease-in-out infinite;
        }

        .particle.triangle {
            width: 0;
            height: 0;
            background: transparent;
            border-left: 3px solid transparent;
            border-right: 3px solid transparent;
            border-bottom: 6px solid rgba(255, 255, 255, 0.15);
            border-radius: 0;
            animation: floatTriangle 10s ease-in-out infinite;
        }

        .particle.diamond {
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.2) 0%, transparent 50%, rgba(120, 119, 198, 0.1) 100%);
            border-radius: 0;
            transform: rotate(45deg);
            animation: floatDiamond 14s ease-in-out infinite;
        }

        @keyframes floatCircle {
            0%, 100% { 
                transform: translateY(0px) translateX(0px) rotate(0deg) scale(1); 
                opacity: 0.3; 
            }
            25% { 
                transform: translateY(-20px) translateX(10px) rotate(90deg) scale(1.2); 
                opacity: 0.6; 
            }
            50% { 
                transform: translateY(-40px) translateX(-5px) rotate(180deg) scale(0.8); 
                opacity: 0.9; 
            }
            75% { 
                transform: translateY(-25px) translateX(-15px) rotate(270deg) scale(1.1); 
                opacity: 0.5; 
            }
        }

        @keyframes floatSquare {
            0%, 100% { 
                transform: translateY(0px) translateX(0px) rotate(0deg) scale(1); 
                opacity: 0.2; 
            }
            33% { 
                transform: translateY(-30px) translateX(15px) rotate(120deg) scale(1.3); 
                opacity: 0.7; 
            }
            66% { 
                transform: translateY(-15px) translateX(-20px) rotate(240deg) scale(0.7); 
                opacity: 0.4; 
            }
        }

        @keyframes floatTriangle {
            0%, 100% { 
                transform: translateY(0px) translateX(0px) rotate(0deg) scale(1); 
                opacity: 0.4; 
            }
            50% { 
                transform: translateY(-35px) translateX(8px) rotate(180deg) scale(1.1); 
                opacity: 0.8; 
            }
        }

        @keyframes floatDiamond {
            0%, 100% { 
                transform: translateY(0px) translateX(0px) rotate(45deg) scale(1); 
                opacity: 0.3; 
            }
            25% { 
                transform: translateY(-25px) translateX(12px) rotate(135deg) scale(1.4); 
                opacity: 0.6; 
            }
            50% { 
                transform: translateY(-45px) translateX(-8px) rotate(225deg) scale(0.9); 
                opacity: 0.9; 
            }
            75% { 
                transform: translateY(-20px) translateX(-18px) rotate(315deg) scale(1.2); 
                opacity: 0.5; 
            }
        }

        .app-container {
            position: relative;
            z-index: 2;
            padding: 0.75rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            margin-bottom: 1rem;
            position: relative;
        }

        .subtitle-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1.5rem;
            margin-top: 0.5rem;
        }

        .workflow-guide {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 500;
        }

        .workflow-step {
            padding: 0.25rem 0.6rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .workflow-step:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-1px);
        }

        .workflow-arrow {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.6rem;
        }

        .title {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 50%, #e0e7ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .app-logo {
            width: 40px;
            height: 40px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, 
                rgba(16, 185, 129, 0.2) 0%, 
                rgba(6, 182, 212, 0.15) 25%,
                rgba(139, 92, 246, 0.2) 50%,
                rgba(245, 158, 11, 0.15) 75%,
                rgba(239, 68, 68, 0.2) 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            backdrop-filter: blur(20px);
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            animation: logoFloat 6s ease-in-out infinite;
        }

        .app-logo::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: linear-gradient(45deg, 
                #10b981 0%, 
                #06b6d4 25%, 
                #8b5cf6 50%, 
                #f59e0b 75%, 
                #ef4444 100%);
            border-radius: 4px;
            animation: logoCore 4s ease-in-out infinite;
        }

        .app-logo::after {
            content: '';
            position: absolute;
            width: 32px;
            height: 32px;
            border: 2px solid transparent;
            border-top: 2px solid rgba(255, 255, 255, 0.4);
            border-right: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            animation: logoOrbit 8s linear infinite;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-3px) rotate(2deg); }
        }

        @keyframes logoCore {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.8; }
            50% { transform: scale(1.1) rotate(180deg); opacity: 1; }
        }

        @keyframes logoOrbit {
            0% { transform: rotate(0deg); opacity: 0.3; }
            50% { opacity: 0.8; }
            100% { transform: rotate(360deg); opacity: 0.3; }
        }

        .subtitle {
            font-size: 1.05rem;
            color: rgba(255, 255, 255, 0.85);
            font-weight: 500;
            font-style: italic;
            margin-bottom: 0;
            letter-spacing: 0.01em;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .components-area {
            margin-bottom: 1.5rem;
            flex-shrink: 0;
        }

        .components-grid {
            display: grid;
            gap: 1rem;
            grid-template-areas: 
                "subjects actions styles"
                "framing lighting technical";
            grid-template-columns: 1fr 1fr 1fr;
            position: relative;
        }

        .components-grid::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 2px;
            height: 60%;
            background: linear-gradient(to bottom, 
                transparent, 
                rgba(255, 255, 255, 0.2), 
                transparent);
            pointer-events: none;
            z-index: 0;
        }

        .components-grid::after {
            content: '';
            position: absolute;
            top: 30%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(to right, 
                transparent, 
                rgba(255, 255, 255, 0.15), 
                transparent);
            pointer-events: none;
            z-index: 0;
        }

        .component-section {
            backdrop-filter: blur(25px) saturate(180%);
            border-radius: 20px;
            padding: 1rem;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                inset 0 -1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .component-section:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 
                0 15px 45px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                inset 0 -1px 0 rgba(255, 255, 255, 0.15);
        }

        .subjects-section:hover {
            box-shadow: 
                0 15px 45px rgba(16, 185, 129, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                inset 0 -1px 0 rgba(255, 255, 255, 0.15);
        }

        .actions-section:hover {
            box-shadow: 
                0 15px 45px rgba(6, 182, 212, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                inset 0 -1px 0 rgba(255, 255, 255, 0.15);
        }

        .styles-section:hover {
            box-shadow: 
                0 15px 45px rgba(245, 158, 11, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                inset 0 -1px 0 rgba(255, 255, 255, 0.15);
        }

        .lighting-section:hover {
            box-shadow: 
                0 15px 45px rgba(239, 68, 68, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                inset 0 -1px 0 rgba(255, 255, 255, 0.15);
        }

        .technical-section:hover {
            box-shadow: 
                0 15px 45px rgba(139, 92, 246, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                inset 0 -1px 0 rgba(255, 255, 255, 0.15);
        }

        .framing-section:hover {
            box-shadow: 
                0 15px 45px rgba(20, 184, 166, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                inset 0 -1px 0 rgba(255, 255, 255, 0.15);
        }

        .subjects-section .component-section::before {
            background: linear-gradient(90deg, 
                transparent, 
                rgba(16, 185, 129, 0.8), 
                rgba(255,255,255,0.6), 
                rgba(16, 185, 129, 0.8), 
                transparent);
        }

        .actions-section .component-section::before {
            background: linear-gradient(90deg, 
                transparent, 
                rgba(6, 182, 212, 0.8), 
                rgba(255,255,255,0.6), 
                rgba(6, 182, 212, 0.8), 
                transparent);
        }

        .styles-section .component-section::before {
            background: linear-gradient(90deg, 
                transparent, 
                rgba(245, 158, 11, 0.8), 
                rgba(255,255,255,0.6), 
                rgba(245, 158, 11, 0.8), 
                transparent);
        }

        .lighting-section .component-section::before {
            background: linear-gradient(90deg, 
                transparent, 
                rgba(239, 68, 68, 0.8), 
                rgba(255,255,255,0.6), 
                rgba(239, 68, 68, 0.8), 
                transparent);
        }

        .technical-section .component-section::before {
            background: linear-gradient(90deg, 
                transparent, 
                rgba(139, 92, 246, 0.8), 
                rgba(255,255,255,0.6), 
                rgba(139, 92, 246, 0.8), 
                transparent);
        }

        .framing-section .component-section::before {
            background: linear-gradient(90deg, 
                transparent, 
                rgba(20, 184, 166, 0.8), 
                rgba(255,255,255,0.6), 
                rgba(20, 184, 166, 0.8), 
                transparent);
        }

        .component-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            animation: shimmer 4s ease-in-out infinite;
        }

        .component-section::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            pointer-events: none;
        }

        .component-section:hover::after {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateX(100%); opacity: 0; }
        }

        .subjects-section {
            grid-area: subjects;
            transform: rotate(-0.5deg);
            position: relative;
            z-index: 3;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.25) 0%, rgba(5, 150, 105, 0.15) 100%);
            border: 2px solid rgba(16, 185, 129, 0.3);
        }

        .subjects-section::before {
            content: '1';
            position: absolute;
            top: -10px;
            left: -10px;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 800;
            color: white;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);
            z-index: 4;
        }

        .styles-section {
            grid-area: styles;
            transform: rotate(1.5deg);
            position: relative;
            z-index: 2;
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.25) 0%, rgba(217, 119, 6, 0.15) 100%);
            border: 2px solid rgba(245, 158, 11, 0.3);
        }

        .actions-section {
            grid-area: actions;
            transform: rotate(-1deg);
            position: relative;
            z-index: 2;
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.25) 0%, rgba(8, 145, 178, 0.15) 100%);
            border: 2px solid rgba(6, 182, 212, 0.3);
        }

        .actions-section::before {
            content: '2';
            position: absolute;
            top: -10px;
            left: -10px;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 800;
            color: white;
            box-shadow: 0 2px 8px rgba(6, 182, 212, 0.4);
            z-index: 4;
        }

        .styles-section::before {
            content: '3';
            position: absolute;
            top: -10px;
            right: -10px;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 800;
            color: white;
            box-shadow: 0 2px 8px rgba(245, 158, 11, 0.4);
            z-index: 4;
        }

        .lighting-section {
            grid-area: lighting;
            transform: rotate(0.8deg);
            position: relative;
            z-index: 2;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.25) 0%, rgba(220, 38, 38, 0.15) 100%);
            border: 2px solid rgba(239, 68, 68, 0.3);
        }

        .lighting-section::before {
            content: '5';
            position: absolute;
            top: -10px;
            left: -10px;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 800;
            color: white;
            box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4);
            z-index: 4;
        }

        .technical-section {
            grid-area: technical;
            transform: rotate(-0.8deg);
            position: relative;
            z-index: 2;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.25) 0%, rgba(124, 58, 237, 0.15) 100%);
            border: 2px solid rgba(139, 92, 246, 0.3);
        }

        .technical-section::before {
            content: '6';
            position: absolute;
            top: -10px;
            right: -10px;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 800;
            color: white;
            box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);
            z-index: 4;
        }

        .framing-section {
            grid-area: framing;
            transform: rotate(0.5deg);
            position: relative;
            z-index: 2;
            background: linear-gradient(135deg, rgba(20, 184, 166, 0.25) 0%, rgba(13, 148, 136, 0.15) 100%);
            border: 2px solid rgba(20, 184, 166, 0.3);
        }

        .framing-section::before {
            content: '4';
            position: absolute;
            top: -10px;
            right: -10px;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #14b8a6, #0d9488);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 800;
            color: white;
            box-shadow: 0 2px 8px rgba(20, 184, 166, 0.4);
            z-index: 4;
        }

        .section-title {
            font-size: 0.95rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.75rem;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            position: relative;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), rgba(120, 119, 198, 0.6), rgba(255,255,255,0.8), transparent);
            border-radius: 2px;
        }

        .component-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            justify-content: center;
        }

        .component-item {
            color: white;
            border: none;
            border-radius: 12px;
            padding: 0.4rem 0.6rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.75rem;
            font-weight: 600;
            position: relative;
            backdrop-filter: blur(10px);
            min-width: fit-content;
            white-space: nowrap;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .component-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 8px;
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.2), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .component-item:hover::before {
            opacity: 1;
        }

        .component-item:hover {
            transform: translateY(-6px) scale(1.08) rotate(1deg);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .component-item[data-category="subject"]:hover {
            box-shadow: 0 12px 35px rgba(16, 185, 129, 0.4), 0 0 20px rgba(16, 185, 129, 0.2);
        }

        .component-item[data-category="style"]:hover {
            box-shadow: 0 12px 35px rgba(245, 158, 11, 0.4), 0 0 20px rgba(245, 158, 11, 0.2);
        }

        .component-item[data-category="lighting"]:hover {
            box-shadow: 0 12px 35px rgba(239, 68, 68, 0.4), 0 0 20px rgba(239, 68, 68, 0.2);
        }

        .component-item[data-category="actions"]:hover {
            box-shadow: 0 12px 35px rgba(6, 182, 212, 0.4), 0 0 20px rgba(6, 182, 212, 0.2);
        }

        .component-item[data-category="technical"]:hover {
            box-shadow: 0 12px 35px rgba(139, 92, 246, 0.4), 0 0 20px rgba(139, 92, 246, 0.2);
        }

        .component-item[data-category="framing"]:hover {
            box-shadow: 0 12px 35px rgba(20, 184, 166, 0.4), 0 0 20px rgba(20, 184, 166, 0.2);
        }

        .component-item:active {
            transform: translateY(-3px) scale(1.05) rotate(-1deg);
            transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .component-item[data-category="subject"] {
            background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.25);
        }

        .component-item[data-category="style"] {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 50%, #b45309 100%);
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.25);
        }

        .component-item[data-category="lighting"] {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.25);
        }

        .component-item[data-category="actions"] {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 50%, #0e7490 100%);
            box-shadow: 0 4px 15px rgba(6, 182, 212, 0.25);
        }

        .component-item[data-category="technical"] {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 50%, #6d28d9 100%);
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.25);
        }

        .component-item[data-category="framing"] {
            background: linear-gradient(135deg, #14b8a6 0%, #0d9488 50%, #0f766e 100%);
            box-shadow: 0 4px 15px rgba(20, 184, 166, 0.25);
        }


        .workspace {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.15) 0%, 
                rgba(139, 92, 246, 0.08) 25%,
                rgba(6, 182, 212, 0.06) 50%,
                rgba(16, 185, 129, 0.08) 75%,
                rgba(255, 255, 255, 0.12) 100%);
            backdrop-filter: blur(30px) saturate(200%);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 24px;
            padding: 1.5rem;
            box-shadow: 
                0 16px 50px rgba(0, 0, 0, 0.25),
                inset 0 2px 0 rgba(255, 255, 255, 0.3),
                inset 0 -2px 0 rgba(255, 255, 255, 0.1);
            flex: 1;
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 1.5rem;
            align-items: start;
            position: relative;
            overflow: hidden;
        }

        .workspace::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, 
                transparent, 
                rgba(16, 185, 129, 0.05), 
                transparent, 
                rgba(6, 182, 212, 0.08), 
                transparent,
                rgba(139, 92, 246, 0.06),
                transparent,
                rgba(245, 158, 11, 0.05),
                transparent);
            animation: workspaceRotate 25s linear infinite;
            pointer-events: none;
        }

        @keyframes workspaceRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .buttons-area {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            min-width: 140px;
        }

        .action-button {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.7rem 1rem;
            border-radius: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 
                0 4px 15px rgba(16, 185, 129, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .action-button:hover {
            transform: translateY(-3px) scale(1.05);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.5);
        }

        .action-button:active {
            transform: translateY(-1px) scale(1.02);
            transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .make-image-btn {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            box-shadow: 
                0 4px 15px rgba(139, 92, 246, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .make-image-btn:hover {
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.5);
        }

        .clear-all-btn {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            box-shadow: 
                0 4px 15px rgba(239, 68, 68, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .clear-all-btn:hover {
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.5);
        }

        .drop-area {
            display: flex;
            flex-direction: column;
        }

        .prompt-area {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .drop-zone {
            min-height: 130px;
            border: 3px dashed rgba(255, 255, 255, 0.5);
            border-radius: 20px;
            padding: 1.2rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(15px);
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
            align-items: center;
            justify-content: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            flex: 1;
            box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.1);
        }

        .drop-zone::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            border-radius: 22px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .drop-zone:hover::before {
            opacity: 1;
        }

        .drop-zone.drag-over {
            border-color: #fbbf24;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.2) 0%, rgba(251, 191, 36, 0.1) 100%);
            box-shadow: 
                0 0 50px rgba(251, 191, 36, 0.4),
                inset 0 0 20px rgba(251, 191, 36, 0.2);
            transform: scale(1.03) rotate(0.5deg);
            backdrop-filter: blur(20px) saturate(150%);
        }

        .drop-zone.empty::before {
            content: "üéØ Drop or Click Components Here! üéØ";
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.3rem;
            font-weight: 700;
            text-align: center;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        .prompt-component {
            color: white;
            padding: 0.6rem 1rem;
            border-radius: 16px;
            font-size: 0.9rem;
            font-weight: 600;
            position: relative;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 
                0 6px 20px rgba(0, 0, 0, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3) rotate(-10deg);
            }
            50% {
                opacity: 1;
                transform: scale(1.15) rotate(5deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        .prompt-component[data-category="subject"] {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .prompt-component[data-category="style"] {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .prompt-component[data-category="lighting"] {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .prompt-component[data-category="technical"] {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        .prompt-component[data-category="framing"] {
            background: linear-gradient(135deg, #14b8a6, #0d9488);
        }

        .remove-btn {
            background: rgba(255, 255, 255, 0.3);
            border: none;
            color: white;
            cursor: pointer;
            padding: 4px;
            border-radius: 50%;
            width: 26px;
            height: 26px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 0.8rem;
        }

        .remove-btn:hover {
            background: rgba(255, 255, 255, 0.6);
            transform: scale(1.3) rotate(90deg);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .remove-btn:active {
            transform: scale(1.1) rotate(45deg);
            transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .prompt-display {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.2) 100%);
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 20px;
            padding: 1.2rem;
            height: 130px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.95);
            line-height: 1.5;
            box-shadow: 
                inset 0 4px 20px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            overflow-y: auto;
            margin-bottom: 0.75rem;
            backdrop-filter: blur(10px);
            position: relative;
            outline: none;
            cursor: text;
        }
        
        .prompt-display:focus {
            border-color: rgba(255, 255, 255, 0.6);
            box-shadow: 
                inset 0 4px 20px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 0 3px rgba(255, 255, 255, 0.1);
        }

        .prompt-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.05), transparent);
            border-radius: 18px;
            pointer-events: none;
        }

        .prompt-display.empty {
            color: rgba(255, 255, 255, 0.6);
            font-style: italic;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .prompt-title {
            font-size: 1.1rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 0.75rem;
            color: rgba(255, 255, 255, 0.95);
            flex-shrink: 0;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(16, 185, 129, 0.4);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.4s ease;
            font-weight: 600;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            box-shadow: 0 10px 40px rgba(239, 68, 68, 0.4);
        }

        .notification.warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            box-shadow: 0 10px 40px rgba(245, 158, 11, 0.4);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .app-container {
                padding: 0.25rem;
                max-width: 100vw;
                overflow-x: hidden;
            }

            .title {
                font-size: 1.3rem;
            }

            .app-logo {
                width: 32px;
                height: 32px;
            }

            .app-logo::before {
                width: 16px;
                height: 16px;
            }

            .app-logo::after {
                width: 26px;
                height: 26px;
            }

            .components-grid {
                grid-template-areas: 
                    "subjects"
                    "actions"
                    "styles"
                    "framing"
                    "lighting"
                    "technical";
                grid-template-columns: 1fr;
                gap: 0.5rem;
                width: 100%;
                max-width: 100%;
            }

            .components-grid::before,
            .components-grid::after {
                display: none;
            }

            .subtitle-container {
                flex-direction: column;
                gap: 0.5rem;
            }

            .workflow-guide {
                flex-wrap: wrap;
                gap: 0.3rem;
                font-size: 0.65rem;
            }

            .workflow-step {
                padding: 0.2rem 0.4rem;
            }

            .workflow-arrow {
                display: none;
            }

            .component-section {
                transform: none !important;
                padding: 0.5rem;
                width: 100%;
                max-width: 100%;
                box-sizing: border-box;
            }

            .component-list {
                display: flex;
                flex-wrap: wrap;
                gap: 0.3rem;
                width: 100%;
                max-width: 100%;
            }

            .component-item {
                font-size: 0.65rem;
                padding: 0.3rem 0.5rem;
                flex: 1 1 auto;
                min-width: 0;
                max-width: calc(50% - 0.15rem);
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                box-sizing: border-box;
            }

            .component-item i {
                margin-right: 0.3rem;
                flex-shrink: 0;
            }

            .workspace {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
            
            .buttons-area {
                flex-direction: row;
                justify-content: center;
                flex-wrap: wrap;
                min-width: auto;
            }
            
            .action-button {
                padding: 0.5rem 0.75rem;
                font-size: 0.75rem;
                min-width: 0;
                flex: 1;
            }

            .drop-zone {
                min-height: 100px;
                padding: 0.75rem;
            }

            .prompt-display {
                height: 100px;
            }

            .drop-zone.empty::before {
                font-size: 0.9rem;
            }

            .notification {
                left: 10px;
                right: 10px;
                transform: translateY(-100%);
            }

            .notification.show {
                transform: translateY(0);
            }
        }

        @media (max-width: 480px) {
            .app-container {
                padding: 0.125rem;
            }

            .title {
                font-size: 1.2rem;
            }

            .component-item {
                font-size: 0.6rem;
                padding: 0.25rem 0.4rem;
                max-width: calc(50% - 0.15rem);
            }

            .component-list {
                gap: 0.25rem;
            }

            .component-section {
                padding: 0.4rem;
            }

            .drop-zone {
                min-height: 80px;
                padding: 0.5rem;
            }

            .prompt-display {
                padding: 0.75rem;
                font-size: 0.8rem;
                height: 80px;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background Particles -->
    <div class="particles" id="particles"></div>

    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <h1 class="title">
                <div class="app-logo"></div>
                Build Your Image Prompt
            </h1>
            <div class="subtitle-container">
                <p class="subtitle">Click and craft the perfect AI image prompt with precision</p>
                <div class="workflow-guide">
                    <span class="workflow-step">1. Subject</span>
                    <span class="workflow-arrow">‚Üí</span>
                    <span class="workflow-step">2. Action</span>
                    <span class="workflow-arrow">‚Üí</span>
                    <span class="workflow-step">3. Style</span>
                    <span class="workflow-arrow">‚Üí</span>
                    <span class="workflow-step">4. Framing</span>
                    <span class="workflow-arrow">‚Üí</span>
                    <span class="workflow-step">5. Lighting</span>
                    <span class="workflow-arrow">‚Üí</span>
                    <span class="workflow-step">6. Technical</span>
                </div>
            </div>
        </div>

        <!-- Components Area -->
        <div class="components-area">
            <!-- Components Grid -->
            <div class="components-grid">
                <!-- Subjects Section -->
                <div class="component-section subjects-section">
                    <h3 class="section-title">üé≠ Subjects</h3>
                    <div class="component-list">
                        <div class="component-item" data-category="subject" data-value="A young woman" draggable="true">
                            <i class="fas fa-user"></i>
                            Young woman
                        </div>
                        <div class="component-item" data-category="subject" data-value="A majestic mountain" draggable="true">
                            <i class="fas fa-mountain"></i>
                            Mountain landscape
                        </div>
                        <div class="component-item" data-category="subject" data-value="A vintage car" draggable="true">
                            <i class="fas fa-car"></i>
                            Vintage car
                        </div>
                        <div class="component-item" data-category="subject" data-value="A cute cat" draggable="true">
                            <i class="fas fa-cat"></i>
                            Cute cat
                        </div>
                        <div class="component-item" data-category="subject" data-value="Beautiful flowers" draggable="true">
                            <i class="fas fa-seedling"></i>
                            Flowers
                        </div>
                        <div class="component-item" data-category="subject" data-value="Urban street" draggable="true">
                            <i class="fas fa-road"></i>
                            Street scene
                        </div>
                    </div>
                </div>

                <!-- Actions Section -->
                <div class="component-section actions-section">
                    <h3 class="section-title">üèÉ Actions</h3>
                    <div class="component-list">
                        <div class="component-item" data-category="actions" data-value="walking confidently" draggable="true">
                            <i class="fas fa-walking"></i>
                            Walking
                        </div>
                        <div class="component-item" data-category="actions" data-value="running swiftly" draggable="true">
                            <i class="fas fa-rocket"></i>
                            Running
                        </div>
                        <div class="component-item" data-category="actions" data-value="thinking deeply" draggable="true">
                            <i class="fas fa-brain"></i>
                            Thinking
                        </div>
                        <div class="component-item" data-category="actions" data-value="dancing gracefully" draggable="true">
                            <i class="fas fa-music"></i>
                            Dancing
                        </div>
                        <div class="component-item" data-category="actions" data-value="reading quietly" draggable="true">
                            <i class="fas fa-book"></i>
                            Reading
                        </div>
                        <div class="component-item" data-category="actions" data-value="working diligently" draggable="true">
                            <i class="fas fa-laptop"></i>
                            Working
                        </div>
                        <div class="component-item" data-category="actions" data-value="cooking carefully" draggable="true">
                            <i class="fas fa-utensils"></i>
                            Cooking
                        </div>
                        <div class="component-item" data-category="actions" data-value="sleeping peacefully" draggable="true">
                            <i class="fas fa-bed"></i>
                            Sleeping
                        </div>
                    </div>
                </div>

                <!-- Styles Section -->
                <div class="component-section styles-section">
                    <h3 class="section-title">üé® Styles</h3>
                    <div class="component-list">
                        <div class="component-item" data-category="style" data-value="realistic style" draggable="true">
                            <i class="fas fa-mountain"></i>
                            Realistic
                        </div>
                        <div class="component-item" data-category="style" data-value="photographic style" draggable="true">
                            <i class="fas fa-camera"></i>
                            Photographic
                        </div>
                        <div class="component-item" data-category="style" data-value="painterly style" draggable="true">
                            <i class="fas fa-paint-brush"></i>
                            Painterly
                        </div>
                        <div class="component-item" data-category="style" data-value="sketch style" draggable="true">
                            <i class="fas fa-pencil-alt"></i>
                            Sketch
                        </div>
                        <div class="component-item" data-category="style" data-value="cartoon style" draggable="true">
                            <i class="fas fa-smile"></i>
                            Cartoon
                        </div>
                        <div class="component-item" data-category="style" data-value="surreal style" draggable="true">
                            <i class="fas fa-cloud"></i>
                            Surreal
                        </div>
                        <div class="component-item" data-category="style" data-value="Pixar 3D style" draggable="true">
                            <i class="fas fa-cube"></i>
                            Pixar 3D
                        </div>
                        <div class="component-item" data-category="style" data-value="concept art style" draggable="true">
                            <i class="fas fa-rocket"></i>
                            Concept Art
                        </div>
                        <div class="component-item" data-category="style" data-value="minimalist style" draggable="true">
                            <i class="fas fa-minus"></i>
                            Minimalist
                        </div>
                    </div>
                </div>

                <!-- Lighting Section -->
                <div class="component-section lighting-section">
                    <h3 class="section-title">üí° Lighting</h3>
                    <div class="component-list">
                        <div class="component-item" data-category="lighting" data-value="golden hour lighting" draggable="true">
                            <i class="fas fa-sun"></i>
                            Golden hour
                        </div>
                        <div class="component-item" data-category="lighting" data-value="soft studio lighting" draggable="true">
                            <i class="fas fa-lightbulb"></i>
                            Studio lighting
                        </div>
                        <div class="component-item" data-category="lighting" data-value="dramatic shadows" draggable="true">
                            <i class="fas fa-adjust"></i>
                            Dramatic shadows
                        </div>
                        <div class="component-item" data-category="lighting" data-value="natural lighting" draggable="true">
                            <i class="fas fa-cloud-sun"></i>
                            Natural lighting
                        </div>
                        <div class="component-item" data-category="lighting" data-value="rim lighting" draggable="true">
                            <i class="fas fa-circle"></i>
                            Rim lighting
                        </div>
                        <div class="component-item" data-category="lighting" data-value="neon lighting" draggable="true">
                            <i class="fas fa-bolt"></i>
                            Neon lighting
                        </div>
                    </div>
                </div>

                <!-- Technical Section -->
                <div class="component-section technical-section">
                    <h3 class="section-title">‚öôÔ∏è Technical</h3>
                    <div class="component-list">
                        <div class="component-item" data-category="technical" data-value="8K resolution" draggable="true">
                            <i class="fas fa-expand"></i>
                            8K resolution
                        </div>
                        <div class="component-item" data-category="technical" data-value="ultra-realistic" draggable="true">
                            <i class="fas fa-eye"></i>
                            Ultra-realistic
                        </div>
                        <div class="component-item" data-category="technical" data-value="professional photography" draggable="true">
                            <i class="fas fa-camera-retro"></i>
                            Professional
                        </div>
                        <div class="component-item" data-category="technical" data-value="highly detailed" draggable="true">
                            <i class="fas fa-search-plus"></i>
                            Highly detailed
                        </div>
                        <div class="component-item" data-category="technical" data-value="HDR rendering" draggable="true">
                            <i class="fas fa-sliders-h"></i>
                            HDR rendering
                        </div>
                        <div class="component-item" data-category="technical" data-value="cinematic quality" draggable="true">
                            <i class="fas fa-film"></i>
                            Cinematic
                        </div>
                    </div>
                </div>

                <!-- Framing Section -->
                <div class="component-section framing-section">
                    <h3 class="section-title">üì∑ Framing</h3>
                    <div class="component-list">
                        <div class="component-item" data-category="framing" data-value="close-up shot" draggable="true">
                            <i class="fas fa-search"></i>
                            Close-up
                        </div>
                        <div class="component-item" data-category="framing" data-value="medium shot" draggable="true">
                            <i class="fas fa-compress-alt"></i>
                            Medium shot
                        </div>
                        <div class="component-item" data-category="framing" data-value="wide shot" draggable="true">
                            <i class="fas fa-expand-alt"></i>
                            Wide shot
                        </div>
                        <div class="component-item" data-category="framing" data-value="low angle view" draggable="true">
                            <i class="fas fa-angle-up"></i>
                            Low angle
                        </div>
                        <div class="component-item" data-category="framing" data-value="eye level view" draggable="true">
                            <i class="fas fa-eye"></i>
                            Eye level
                        </div>
                        <div class="component-item" data-category="framing" data-value="bird's eye view" draggable="true">
                            <i class="fas fa-angle-down"></i>
                            Bird's eye
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Workspace -->
        <div class="workspace">
            <!-- Drop Area -->
            <div class="drop-area">
                <div class="drop-zone empty" id="dropZone"></div>
            </div>
            
            <!-- Prompt Area -->
            <div class="prompt-area">
                <div class="prompt-display empty" id="promptDisplay" contenteditable="true" spellcheck="false">
                    Your enhanced AI prompt will appear here...
                </div>
            </div>
            
            <!-- Buttons Area -->
            <div class="buttons-area">
                <button id="copyButton" class="action-button">
                    <i class="fas fa-copy"></i> Copy Prompt
                </button>
                <button id="makeImageButton" class="action-button make-image-btn">
                    <i class="fas fa-image"></i>
                    <i class="fas fa-external-link-alt" style="font-size: 0.7em; opacity: 0.8;"></i>
                    Make Image
                </button>
                <button id="clearAllButton" class="action-button clear-all-btn">
                    <i class="fas fa-trash"></i> Clear All
                </button>
            </div>
        </div>
    </div>

    <script>
        // API calls are now handled securely via serverless functions
        // No API keys exposed in client-side code

        // Game state
        let promptComponents = [];

        // DOM Elements (will be set after DOM loads)
        let dropZone, promptDisplay, copyButton, makeImageButton, clearAllButton;

        // Audio Context for sound effects
        let audioContext;
        let soundEnabled = true;

        // Initialize audio context
        function initAudio() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            } catch (e) {
                console.log('Web Audio API not supported');
                soundEnabled = false;
            }
        }

        // Play sound for different categories
        function playSound(category) {
            if (!soundEnabled || !audioContext) return;
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // Different frequencies and tones for each category
            let frequency, waveType, duration;
            
            switch(category) {
                case 'subject':
                    frequency = 523.25; // C5 - warm, human sound
                    waveType = 'sine';
                    duration = 0.15;
                    break;
                case 'actions':
                    frequency = 587.33; // D5 - dynamic, active sound
                    waveType = 'triangle';
                    duration = 0.13;
                    break;
                case 'style':
                    frequency = 659.25; // E5 - artistic, creative sound
                    waveType = 'triangle';
                    duration = 0.12;
                    break;
                case 'lighting':
                    frequency = 783.99; // G5 - bright, illuminating sound
                    waveType = 'sawtooth';
                    duration = 0.1;
                    break;
                case 'technical':
                    frequency = 440.00; // A4 - precise, technical sound
                    waveType = 'square';
                    duration = 0.08;
                    break;
                case 'framing':
                    frequency = 493.88; // B4 - visual, framing sound
                    waveType = 'triangle';
                    duration = 0.11;
                    break;
                default:
                    frequency = 500;
                    waveType = 'sine';
                    duration = 0.1;
            }
            
            oscillator.type = waveType;
            oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
            
            // Smooth volume envelope
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.1, audioContext.currentTime + 0.01);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        // Play success sound when component is added
        function playSuccessSound() {
            if (!soundEnabled || !audioContext) return;
            
            // Play a pleasant chord progression
            const frequencies = [523.25, 659.25, 783.99]; // C-E-G major chord
            
            frequencies.forEach((freq, index) => {
                setTimeout(() => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.type = 'sine';
                    oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
                    
                    gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                    gainNode.gain.linearRampToValueAtTime(0.05, audioContext.currentTime + 0.01);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.2);
                }, index * 50);
            });
        }

        // Play clear sound for clearing components
        function playClearSound() {
            if (!soundEnabled || !audioContext) return;
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.type = 'sawtooth';
            oscillator.frequency.setValueAtTime(300, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(150, audioContext.currentTime + 0.3);
            
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.08, audioContext.currentTime + 0.02);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
        }

        // Google Analytics Event Tracking
        function trackEvent(eventName, parameters = {}) {
            if (typeof gtag !== 'undefined') {
                gtag('event', eventName, parameters);
            }
        }

        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        trackEvent('pwa_service_worker_registered');
                    })
                    .catch(registrationError => {
                        trackEvent('pwa_service_worker_failed');
                    });
            });
        }

        // Initialize game
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize DOM elements
            dropZone = document.getElementById('dropZone');
            promptDisplay = document.getElementById('promptDisplay');
            copyButton = document.getElementById('copyButton');
            makeImageButton = document.getElementById('makeImageButton');
            clearAllButton = document.getElementById('clearAllButton');
            
            initAudio();
            createParticles();
            initializeDragAndDrop();
            setupEventListeners();
            updateGameState();
            
            // Track app initialization
            trackEvent('app_initialized', {
                'user_agent': navigator.userAgent,
                'screen_resolution': screen.width + 'x' + screen.height,
                'viewport_size': window.innerWidth + 'x' + window.innerHeight
            });
        });

        // Create animated background particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const shapes = ['circle', 'square', 'triangle', 'diamond'];
            
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                const shape = shapes[Math.floor(Math.random() * shapes.length)];
                
                particle.className = `particle ${shape}`;
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                
                // Different sizing for different shapes
                if (shape === 'triangle') {
                    // Triangles are sized via border, no width/height needed
                    const size = Math.random() * 3 + 2;
                    particle.style.borderLeftWidth = size + 'px';
                    particle.style.borderRightWidth = size + 'px';
                    particle.style.borderBottomWidth = (size * 2) + 'px';
                } else {
                    const size = Math.random() * 8 + 4;
                    particle.style.width = size + 'px';
                    particle.style.height = size + 'px';
                }
                
                particle.style.animationDelay = Math.random() * 12 + 's';
                particle.style.animationDuration = (Math.random() * 5 + 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        function initializeDragAndDrop() {
            const componentItems = document.querySelectorAll('.component-item');
            
            componentItems.forEach(item => {
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
                item.addEventListener('click', handleClick);
            });

            if (dropZone) {
                dropZone.addEventListener('dragover', handleDragOver);
                dropZone.addEventListener('drop', handleDrop);
                dropZone.addEventListener('dragenter', handleDragEnter);
                dropZone.addEventListener('dragleave', handleDragLeave);
            }
        }

        function handleDragStart(e) {
            const data = {
                category: this.dataset.category,
                value: this.dataset.value,
                text: this.textContent.trim()
            };
            
            e.dataTransfer.setData('text/plain', JSON.stringify(data));
            this.style.opacity = '0.5';
            
            // Play category sound
            playSound(data.category);
        }

        function handleDragEnd(e) {
            this.style.opacity = '1';
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDragEnter(e) {
            e.preventDefault();
            dropZone.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            if (!dropZone.contains(e.relatedTarget)) {
                dropZone.classList.remove('drag-over');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            dropZone.classList.remove('drag-over');
            
            const data = JSON.parse(e.dataTransfer.getData('text/plain'));
            
            // Track component drag & drop
            trackEvent('component_dropped', {
                'component_category': data.category,
                'component_value': data.value,
                'interaction_type': 'drag_drop'
            });
            
            addComponent(data);
        }

        function handleClick(e) {
            const data = {
                category: this.dataset.category,
                value: this.dataset.value,
                text: this.textContent.trim()
            };
            
            // Play category sound
            playSound(data.category);
            
            addComponent(data);
            
            // Track component click
            trackEvent('component_clicked', {
                'component_category': data.category,
                'component_value': data.value,
                'interaction_type': 'click'
            });
            
            // Enhanced visual feedback for click
            this.style.transform = 'scale(0.9) rotate(-5deg)';
            setTimeout(() => {
                this.style.transform = '';
            }, 200);
        }

        async function addComponent(data) {
            // Check if component already exists
            const exists = promptComponents.some(comp => comp.value === data.value);
            if (exists) {
                showNotification('Component already added', 'warning');
                return;
            }

            promptComponents.push(data);
            await updateGameState();
            showNotification('Component added', 'success');
            
            // Track component added
            trackEvent('component_added', {
                'component_category': data.category,
                'component_value': data.value,
                'total_components': promptComponents.length
            });
            
            // Play success sound when component is successfully added
            playSuccessSound();
        }

        async function updateGameState() {
            updateDropZone();
            await updatePromptDisplay();
        }

        function updateDropZone() {
            dropZone.classList.remove('empty');
            dropZone.innerHTML = '';

            promptComponents.forEach((component, index) => {
                const componentElement = document.createElement('div');
                componentElement.className = 'prompt-component';
                componentElement.setAttribute('data-category', component.category);
                componentElement.innerHTML = `
                    <span>${component.text}</span>
                    <button class="remove-btn" onclick="removeComponent(${index})" data-index="${index}">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                dropZone.appendChild(componentElement);
            });

            if (promptComponents.length === 0) {
                dropZone.classList.add('empty');
            }
        }

        async function removeComponent(index) {
            promptComponents.splice(index, 1);
            await updateGameState();
            showNotification('Component removed', 'info');
        }

        async function updatePromptDisplay() {
            if (promptComponents.length === 0) {
                promptDisplay.textContent = 'Your enhanced AI prompt will appear here...';
                promptDisplay.classList.add('empty');
                return;
            }

            promptDisplay.classList.remove('empty');
            
            // Capture existing prompt content before overwriting
            const existingContent = promptDisplay.textContent.trim();
            promptDisplay.textContent = 'Generating enhanced prompt...';
            
            try {
                const enhancedPrompt = await generateEnhancedPrompt(existingContent);
                
                // Ensure the prompt starts with "Generate an image:" for compatibility
                const finalPrompt = enhancedPrompt.startsWith('Generate an image:') 
                    ? enhancedPrompt 
                    : `Generate an image: ${enhancedPrompt}`;
                
                promptDisplay.textContent = finalPrompt;
            } catch (error) {
                console.error('Prompt generation failed:', error);
                // Fallback to enhanced basic prompt
                const basicPrompt = createBasicEnhancedPrompt();
                promptDisplay.textContent = basicPrompt;
            }
        }
        
        function createBasicEnhancedPrompt() {
            // Create a readable prompt without API call
            const subjects = promptComponents.filter(c => c.category === 'subject');
            const actions = promptComponents.filter(c => c.category === 'actions');
            const styles = promptComponents.filter(c => c.category === 'style');
            const lighting = promptComponents.filter(c => c.category === 'lighting');
            const technical = promptComponents.filter(c => c.category === 'technical');
            
            let prompt = '';
            
            // Build a natural sentence
            if (subjects.length > 0) {
                prompt += subjects[0].value;
            }
            
            if (actions.length > 0) {
                prompt += ' ' + actions[0].value;
            }
            
            if (subjects.length === 0 && actions.length === 0) {
                prompt = 'an image';
            }
            
            if (styles.length > 0) {
                prompt += ', ' + styles[0].value;
            }
            
            if (lighting.length > 0) {
                prompt += ', ' + lighting[0].value;
            }
            
            if (technical.length > 0) {
                prompt += ', ' + technical[0].value;
            }
            
            // Add any remaining components
            const remaining = promptComponents.filter(c => 
                !subjects.includes(c) && !actions.includes(c) && 
                !styles.includes(c) && !lighting.includes(c) && !technical.includes(c)
            );
            
            if (remaining.length > 0) {
                prompt += ', ' + remaining.map(c => c.value).join(', ');
            }
            
            // Add the universal AI instruction prefix
            const finalPrompt = prompt || 'an image with your selected components';
            return `Generate an image: ${finalPrompt}`;
        }
        
        async function generateEnhancedPrompt(existingPrompt = null) {
            const components = promptComponents.map(comp => ({
                category: comp.category,
                value: comp.value
            }));
            
            // Use Vercel serverless function for secure API calls
            const apiUrl = window.location.hostname.includes('localhost') || window.location.hostname.includes('127.0.0.1') 
                ? 'http://localhost:3000/api/generate-prompt'  // Local development
                : '/api/generate-prompt';  // Production (Vercel)
            
            const requestBody = { components };
            
            // Include existing prompt if provided and it's not a placeholder
            if (existingPrompt && 
                existingPrompt.trim() !== '' && 
                existingPrompt !== 'Your enhanced AI prompt will appear here...' &&
                existingPrompt !== 'Generating enhanced prompt...') {
                requestBody.existingPrompt = existingPrompt;
            }
            
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(requestBody)
            });
            
            const data = await response.json();
            
            // Check for API errors
            if (!response.ok) {
                console.error('API Error:', data);
                throw new Error(`API Error: ${data.error || 'Unknown error'}`);
            }
            
            if (!data.prompt) {
                console.error('Invalid response structure:', data);
                throw new Error('Invalid response from prompt generation API');
            }
            
            return data.prompt;
        }


        function setupEventListeners() {
            if (copyButton) {
                copyButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    copyPromptToClipboard();
                });
            }
            
            if (makeImageButton) {
                makeImageButton.addEventListener('click', openMakeImage);
            }
            
            if (clearAllButton) {
                clearAllButton.addEventListener('click', clearAllComponents);
            }
            
            // Handle prompt editing
            if (promptDisplay) {
                promptDisplay.addEventListener('input', function() {
                    // Track that user has edited the prompt
                    trackEvent('prompt_manually_edited', {
                        'prompt_length': promptDisplay.textContent.trim().length,
                        'components_count': promptComponents.length
                    });
                });
                
                // Clear placeholder text when user starts editing
                promptDisplay.addEventListener('focus', function() {
                    if (promptDisplay.textContent.trim() === 'Your enhanced AI prompt will appear here...') {
                        promptDisplay.textContent = '';
                        promptDisplay.classList.remove('empty');
                    }
                });
                
                // Restore placeholder if empty
                promptDisplay.addEventListener('blur', function() {
                    if (promptDisplay.textContent.trim() === '') {
                        promptDisplay.textContent = 'Your enhanced AI prompt will appear here...';
                        promptDisplay.classList.add('empty');
                    }
                });
            }
            
            // Enable audio context on first user interaction
            document.addEventListener('click', function enableAudio() {
                if (audioContext && audioContext.state === 'suspended') {
                    audioContext.resume();
                }
            }, { once: true });
        }

        function copyPromptToClipboard() {
            const promptText = promptDisplay.textContent.trim();
            
            // Check if there's actual content to copy
            if (!promptText || 
                promptText === 'Your enhanced AI prompt will appear here...' || 
                promptText === 'Generating enhanced prompt...') {
                showNotification('No prompt to copy yet! Add some components first.', 'warning');
                return;
            }
            
            // Track copy attempt
            trackEvent('copy_prompt_attempted', {
                'prompt_length': promptText.length,
                'components_count': promptComponents.length
            });
            
            // Try modern clipboard API first (requires HTTPS or localhost)
            if (navigator.clipboard && navigator.clipboard.writeText && window.isSecureContext) {
                navigator.clipboard.writeText(promptText).then(() => {
                    showNotification('Prompt copied to clipboard!', 'success');
                    copyButton.innerHTML = '<i class="fas fa-check"></i> Copied!';
                    setTimeout(() => {
                        copyButton.innerHTML = '<i class="fas fa-copy"></i> Copy Prompt';
                    }, 2000);
                    
                    // Track successful copy
                    trackEvent('prompt_copied', {
                        'method': 'clipboard_api',
                        'prompt_length': promptText.length
                    });
                }).catch(err => {
                    console.error('Clipboard API failed:', err);
                    fallbackCopyTextToClipboard(promptText);
                });
            } else {
                // Fallback for older browsers
                fallbackCopyTextToClipboard(promptText);
            }
        }
        
        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            
            // Avoid scrolling to bottom
            textArea.style.top = '0';
            textArea.style.left = '0';
            textArea.style.position = 'fixed';
            textArea.style.opacity = '0';
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showNotification('Prompt copied to clipboard!', 'success');
                    copyButton.innerHTML = '<i class="fas fa-check"></i> Copied!';
                    setTimeout(() => {
                        copyButton.innerHTML = '<i class="fas fa-copy"></i> Copy Prompt';
                    }, 2000);
                    
                    // Track successful fallback copy
                    trackEvent('prompt_copied', {
                        'method': 'fallback_execcommand',
                        'prompt_length': text.length
                    });
                } else {
                    throw new Error('Copy command failed');
                }
            } catch (err) {
                console.error('Fallback copy failed:', err);
                showNotification('Copy failed. Please select and copy the prompt manually.', 'error');
                // Select the prompt text for manual copying
                const selection = window.getSelection();
                const range = document.createRange();
                range.selectNodeContents(promptDisplay);
                selection.removeAllRanges();
                selection.addRange(range);
            }
            
            document.body.removeChild(textArea);
        }

        function openMakeImage() {
            window.open('https://chatgpt.com/g/g-5yXoSmKOX-make-image', '_blank');
            showNotification('Opening Make Image in new tab!', 'success');
            
            // Track Make Image link click
            trackEvent('make_image_clicked', {
                'components_count': promptComponents.length,
                'has_prompt': promptDisplay.textContent.trim() !== 'Your enhanced AI prompt will appear here...'
            });
        }

        async function clearAllComponents() {
            if (promptComponents.length === 0) {
                showNotification('Drop zone is already empty!', 'info');
                return;
            }
            
            // Show confirmation dialog
            const confirmed = confirm(`Are you sure you want to clear all ${promptComponents.length} component${promptComponents.length === 1 ? '' : 's'} from the drop zone?\n\nThis action cannot be undone.`);
            
            if (!confirmed) {
                return;
            }
            
            const previousCount = promptComponents.length;
            
            // Play clear sound
            playClearSound();
            
            promptComponents = [];
            await updateGameState();
            showNotification('All components cleared!', 'success');
            
            // Track clear all action
            trackEvent('components_cleared', {
                'cleared_count': previousCount
            });
        }

        async function resetGame() {
            promptComponents = [];
            await updateGameState();
            showNotification('Game reset', 'info');
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.classList.add('show');
            }, 100);

            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 400);
            }, 3000);
        }
    </script>
</body>
</html>